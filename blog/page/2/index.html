
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Steven's Blog</title>
  <meta name="author" content="Steven Sun">

  
  <meta name="description" content="I am writing this tool since I do not want to surf the internet and look for the steps to build git repo. This problem I want to solve is: I want to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://isunix.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Steven's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>



  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav id="main-nav" role="navigation">
<ul class="main-navigation">
  <li><a href="/" class="nav-link">Blog</a></li>
  <li><a href="/blog/archives" class="nav-link">Archives</a></li>
  <li><a href="/atom.xml" class="nav-link">RSS</a></li>
  <li><a href="/about" class="nav-link">About</a></li>
</ul>

</nav>
  <header role="banner"><hgroup>
	
		<img src="/images/portrait.jpg" class="portrait" height=250px width=250px />
	
  <h1><a href="/">Steven's Blog</a></h1>
  
    <h2>A dream land of peace!</h2>
  
</hgroup>

</header> 
  
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/28/git-set-up/">Git Set Up</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-28T13:46:06+08:00" pubdate data-updated="true">Aug 28<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am writing this tool since I do not want to surf the internet and look for the steps to build git repo.  </p>

<p>This problem I want to solve is: I want to build git repo in one server and clone it if I want to have it on another server.  </p>

<p>On server A:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s">&quot;Steven Sun&quot;</span>
</span><span class="line"><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="s">&quot;stsun@gmail.com&quot;</span>
</span><span class="line"><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="o">--</span><span class="n">list</span>
</span><span class="line"><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">color</span><span class="o">.</span><span class="n">ui</span> <span class="s">&quot;auto&quot;</span>
</span><span class="line">
</span><span class="line"><span class="nb">mkdir</span> <span class="n">mysite</span>
</span><span class="line"><span class="n">cd</span> <span class="n">mysite</span>
</span><span class="line"><span class="n">git</span> <span class="n">init</span>
</span><span class="line"><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</span><span class="line"><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s">&quot;first comit&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For the address of your repo, refer to the following:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">http</span><span class="p">[</span><span class="n">s</span><span class="p">]:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">ssh:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">git:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="sr">/opt/gi</span><span class="n">t</span><span class="o">/</span><span class="n">project</span><span class="o">.</span><span class="n">git</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">file:</span><span class="sr">///opt/gi</span><span class="n">t</span><span class="o">/</span><span class="n">project</span><span class="o">.</span><span class="n">git</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">ftp</span><span class="p">[</span><span class="n">s</span><span class="p">]:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span><span class="line"><span class="nv">$</span> <span class="nv">git</span> <span class="n">clone</span> <span class="n">rsync:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Thus in my working environment, I can issue the followin command to clone the repo in a server to another:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">git</span> <span class="n">clone</span> <span class="n">ssh:</span><span class="sr">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="sr">/path/</span><span class="n">to</span><span class="sr">/repo.git/</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We can use “git pull” to pull the latest files. </p>

<p>For the .gitignore file, we can create one in the repo dir and add to the .gitignore file something like this:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="o">*.</span><span class="n">jpg</span>
</span><span class="line"><span class="o">*.</span><span class="n">jpeg</span>
</span><span class="line"><span class="o">*.</span><span class="n">png</span>
</span><span class="line"><span class="o">*.</span><span class="n">old</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For the details, please refer to online resources.  </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/27/notes-on-flask/">Notes on Flask</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-27T12:10:36+08:00" pubdate data-updated="true">Aug 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have been learning Flask for quite a while. This is a note to keep down of all those snippets and notes I have learnt and hope to keep it as a reminder.  </p>

<p>1.if you want to get the browser info, use the following code:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">request</span>
</span><span class="line"><span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
</span><span class="line"><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
</span><span class="line">	<span class="n">user_agent</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;User-Agent&#39;</span><span class="p">)</span>
</span><span class="line">	<span class="k">return</span> <span class="s">&#39;&lt;p&gt;Your browser is </span><span class="si">%s</span><span class="s">&lt;/p&gt;&#39;</span> <span class="o">%</span> <span class="n">user_agent</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.There are two contexts in Flask: the application context and the request context.  </p>

<p>3.before_first_request: Register a function to run before the first request is
handled.  </p>

<p>4.before_request: Register a function to run before each request.  </p>

<p>5.after_request: Register a function to run after each request, if no unhandled exceptions occurred.  </p>

<p>6.teardown_request: Register a function to run after each request, even if unhandled
exceptions occurred.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/26/boyer-moore-suan-fa-shi-xian/">Boyer-Moore 算法实现</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-26T11:52:34+08:00" pubdate data-updated="true">Aug 26<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/25/shi-shi-wu-chang/">世事无常</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-25T23:49:06+08:00" pubdate data-updated="true">Aug 25<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>昨天(2014/08/24, 周日)从芝姐哪里得知四姑那边出事了， 于是立马打电话回家给爸，爸说确实是的。本来他是想等事情快有个结果的时候再跟我说的。    </p>

<p>发生这样的事情，我除了痛心就是为命运的残忍感到无奈了。  </p>

<p>想起四姑的命运，想起四姑父的不幸，想起杰弟因为这个事情所可能受到的影响，我不禁内心感到万分的悲凉。</p>

<p>杰弟刚出生没多久的时候，我暑假放假的时候是常去四姑家待着的。杰弟小的时候非常非常的可爱，也很乖。几个表兄弟我是对他有着不一样的感情的， 源于小的时候带过她。  </p>

<p>那个时候四姑也是很活泼的人，自己小的时候不怎么愿意到亲戚家走动的，但是记得有次在四姑家待到了很长的时间。记得小的时候自己挺喜欢四姑的，事实上家里的几个姑姑我都挺喜欢的，自小的感觉就是她们都很和蔼，对我还有几个姊妹都是很关怀的。  </p>

<p>没记错的话，四姑是在我初三升高中那年的时候出事的，也就是说到现在已经有十年了，这十年我都不记得见过几次面了。时间过得实在是太快了。还记得上次见面的时候应该快是3年前了， 那次四姑给我的感觉是挺正常的了，我一直以为或许她已经快恢复了，至少没有太大的问题的。以至于去年回家春节的时候都没有去四姑家了。只因为当时觉得时间短促，再加上没必要刻意去了。一想到这里，内心就会及其的自责。  </p>

<p>老天为什么会这么的不公平啊。一个好好的人，为什么要让她遭受那样的折磨啊。    </p>

<p>四姑本无心，却伤害了别人。也伤害了自己，老天是有多么的残忍才允许发生这样的事情啊！</p>

<p>Could god bless us? Could god bless my aunt?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/22/jin-qi-ji-wei-lai-%5B%3F%5D-duan-shi-jian-xue-xi-zong-jie-he-gui-hua/">近期及未来一段时间学习总结和规划</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-22T13:54:42+08:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>前段时间看到有个人的文章说，他即使是在旅途中也会去跟MOOC的网上课程。而且都是花费很大精力认真去完成的那种。这实在是很让自己感到汗颜的。因为我自己也在coursera还有Udacity上面follow了好几门的课程，但是到目前为止，竟然没有一门课是认认真真学习完了的。虽然这些日子自己也没有哪怕是一天停止过学习，但是从过去这几个月的情况来看，自己实在是太没有恒心还有毅力了。  </p>

<p>自从2011年毕业到现在已经有3年了，3年的时间对于一个有志于某一方面的知识的人来说，应该可以达到一个熟手或者高手的程度了。可是自己到现在都处于半吊子的水平。技术方面从一开始的SQL， shell script， 到现在的Perl，Python， PHP， java， c， c++，jQuery， javascript， html， css没有一个精通的。甚至都算不上特别的熟悉。  </p>

<p>下面就把最近自己在看的书，跟的课程以及未来一段时间准备看的书还有跟的课程列出来。  </p>

<h1 id="books">Books:</h1>
<p>1.Intermediate Perl<br />
2.Data structures and algorithms using Python, in Python(2 books)<br />
3.Algorithms design manual.<br />
4.Pointers on C <br />
5.DS related books.  </p>

<h1 id="coureses">Coureses:</h1>
<p>1.Scala函数式编程原理 <br />
2.普林斯顿大学算法（一，二）  <br />
3.斯坦福大学算法课<br />
4.软硬件接口  <br />
5.普林斯顿大学算法分析<br />
6.清华大学数据结构与算法</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/21/nohupjian-jie/">Nohup简介</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-21T15:45:34+08:00" pubdate data-updated="true">Aug 21<span>st</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我把这个东西放到Python的category里来，是因为我在写Flask的web应用的时候，遇到部署的问题，需要用到一个工具， 可以一直让这个web进程去运行。土鳖的我还以为这得用到cronjob， 其实用个工具可以帮我们完成这样的一个任务的， 这就是这篇post所要介绍的”nohup”</p>

<p>比如说我现在在一个叫server.sh的文件中写入了如下的内容来run一个web server:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line">gunicorn -w 4 -b 0.0.0.0:1234 myapp:app
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>首先这个Flask web apppication, 不同的框架使用gunicorn大同小异。然后使用的是gunicorn这个http server. 具体的关于gunicorn的知识可以自己去查下。只是有点是：你得先安装下的:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="n">pip</span> <span class="n">install</span> <span class="n">gunicorn</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Here the “-w” args means worker, namely 4 processes here.   </p>

<p>For my application, if I want to use nohup, I will have to issue the following command. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line">nohup ./server.sh &amp;
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Nohuo will create a nohup.out file in the directory where you run the command. </p>

<p>nohup 只不过是让进程脱离父进程, 这样即使父进程死掉，它也还在运行。</p>

<p>Thus if we want to use “jobs” to see process, we will not be able to see it. we can use the “ps a” command line to see the the process.  </p>

<p>使用 fg %jobnumber　会将任务拿到前台执行，拿到前台后如果要关闭这个任务按Ctrl+c组合键即可，但如果要暂停这个任务可以按Ctrl+z组合键这时就会将任务置于暂停状态。</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/20/zai-du-chuan-xi-lu-zhu-shu/">在读传习录注疏</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-20T17:40:20+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am reading the book “传习录注疏”， I learnt that it is a very good book. </p>

<p>很想知道给那么多人成为圣人的大家的思想言行是什么个样子。 </p>

<p>Here below is the book I am reading now. </p>

<p><img src="/images/sun/chuanxi.jpg" />  </p>

<p>It is a little difficult. But I am delving into it now.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/20/ctci-q1-dot-2/">CTCI-Q1.2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-20T10:58:48+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The question is:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Implement a function void reverse(char* str) in C or C++ which reverses a null-terminated string.</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We have two solutions here, the first is to swap the i and n-i-1 element.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="cpp"><span class="line"><span class="cp">#include &lt;iostream&gt;</span>
</span><span class="line"><span class="cp">#include &lt;cstring&gt;</span>
</span><span class="line">
</span><span class="line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="kt">void</span> <span class="n">swap</span><span class="p">(</span><span class="kt">char</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="kt">char</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">){</span>
</span><span class="line">  <span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
</span><span class="line">  <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
</span><span class="line">  <span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">void</span> <span class="n">reverse</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">){</span>
</span><span class="line">  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span class="line">  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">  <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">swap</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
</span><span class="line">  <span class="kt">char</span> <span class="n">s1</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;123456789&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="kt">char</span> <span class="n">s2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;abcdefg&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="n">reverse</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
</span><span class="line">  <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">s1</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class="line">  <span class="n">reverse</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
</span><span class="line">  <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">s2</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class="cpp"><span class="line"><span class="cp">#include &lt;iostream&gt;</span>
</span><span class="line"><span class="cp">#include &lt;cstring&gt;</span>
</span><span class="line">
</span><span class="line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kt">void</span> <span class="n">reverse</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">){</span>
</span><span class="line">  <span class="kt">char</span><span class="o">*</span> <span class="n">end</span> <span class="o">=</span> <span class="n">str</span><span class="p">;</span>
</span><span class="line">  <span class="kt">char</span> <span class="n">tmp</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">){</span>
</span><span class="line">    <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">end</span><span class="p">){</span>
</span><span class="line">      <span class="o">++</span><span class="n">end</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="o">--</span><span class="n">end</span><span class="p">;</span>
</span><span class="line">    <span class="c1">//find the end of the string, since the last char is nul, we use --end to set one char back.</span>
</span><span class="line">    <span class="k">while</span><span class="p">(</span><span class="n">str</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">){</span>
</span><span class="line">      <span class="n">tmp</span> <span class="o">=</span> <span class="o">*</span><span class="n">str</span><span class="p">;</span>
</span><span class="line">      <span class="o">*</span><span class="n">str</span><span class="o">++</span> <span class="o">=</span> <span class="o">*</span><span class="n">end</span><span class="p">;</span>
</span><span class="line">      <span class="o">*</span><span class="n">end</span><span class="o">--</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
</span><span class="line">  <span class="kt">char</span> <span class="n">s1</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;123456789&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="kt">char</span> <span class="n">s2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;abcdefg&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="n">reverse</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
</span><span class="line">  <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">s1</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class="line">  <span class="n">reverse</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
</span><span class="line">  <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">s2</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For the python version, we use recursion to get the last char of the string first and then the second to last char by using the recursion method. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="c">#!/usr/local/bin/python3</span>
</span><span class="line"><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">reverseStringRecursive</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
</span><span class="line">    <span class="k">if</span> <span class="nb">str</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">str</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">reverseStringRecursive</span><span class="p">(</span><span class="nb">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span class="line">    <span class="k">else</span><span class="p">:</span>
</span><span class="line">        <span class="k">return</span> <span class="s">&quot;&quot;</span>
</span><span class="line">
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;abcdef&quot;</span>
</span><span class="line"><span class="n">str2</span> <span class="o">=</span> <span class="s">&quot;123456&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="n">reverseStringRecursive</span><span class="p">(</span><span class="n">str1</span><span class="p">))</span>
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="n">reverseStringRecursive</span><span class="p">(</span><span class="n">str2</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>This method is very elegant.  </p>

<p>As to the java version, I have no idea how to implement it in java: so sad!</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
</span><span class="line">
</span><span class="line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Solution</span><span class="o">{</span>
</span><span class="line">  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="kt">char</span> <span class="n">a</span><span class="o">,</span> <span class="kt">char</span> <span class="n">b</span><span class="o">){</span>
</span><span class="line">    <span class="kt">char</span> <span class="n">temp</span><span class="o">;</span>
</span><span class="line">    <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
</span><span class="line">    <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class="line">    <span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">reverse</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
</span><span class="line">    <span class="k">for</span> <span class="o">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">swap</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">));</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
</span><span class="line">    <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;abcdef&quot;</span><span class="o">;</span>
</span><span class="line">    <span class="n">Solution</span> <span class="n">slt</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Solution</span><span class="o">();</span>
</span><span class="line">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;the original string is &quot;</span> <span class="o">+</span> <span class="n">str</span> <span class="o">+</span> <span class="s">&quot; and the reversed string is:\n&quot;</span> <span class="o">+</span> <span class="n">slt</span><span class="o">.</span><span class="na">reverse</span><span class="o">(</span><span class="n">str</span><span class="o">));</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/19/shun-xu-zhan-de-cyu-yan-shi-xian/">顺序栈和链栈的c语言实现</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-19T21:29:35+08:00" pubdate data-updated="true">Aug 19<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>1.sequence stack </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="cp">#include &quot;stdio.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;stdlib.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;math.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;time.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#define OK 1</span>
</span><span class="line"><span class="cp">#define ERROR 0</span>
</span><span class="line"><span class="cp">#define TRUE 1</span>
</span><span class="line"><span class="cp">#define FALSE 0</span>
</span><span class="line"><span class="cp">#define MAXSIZE 1000 </span><span class="cm">/* 存储空间初始分配量 */</span><span class="cp"></span>
</span><span class="line">
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">Status</span><span class="p">;</span>
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">SElemType</span><span class="p">;</span> <span class="cm">/* SElemType类型根据实际情况而定，这里假设为int */</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 顺序栈结构 */</span>
</span><span class="line"><span class="k">typedef</span> <span class="k">struct</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">SElemType</span> <span class="n">data</span><span class="p">[</span><span class="n">MAXSIZE</span><span class="p">];</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">top</span><span class="p">;</span> <span class="cm">/* 用于栈顶指针 */</span>
</span><span class="line"><span class="p">}</span><span class="n">SqStack</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">Status</span> <span class="nf">visit</span><span class="p">(</span><span class="n">SElemType</span> <span class="n">c</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/*  构造一个空栈S */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">InitStack</span><span class="p">(</span><span class="n">SqStack</span> <span class="o">*</span><span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="cm">/* S.data=(SElemType *)malloc(MAXSIZE*sizeof(SElemType)); */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 把S置为空栈 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">ClearStack</span><span class="p">(</span><span class="n">SqStack</span> <span class="o">*</span><span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈S为空栈，则返回TRUE，否则返回FALSE */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">StackEmpty</span><span class="p">(</span><span class="n">SqStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">TRUE</span><span class="p">;</span>
</span><span class="line">        <span class="k">else</span>
</span><span class="line">                <span class="k">return</span> <span class="n">FALSE</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 返回S的元素个数，即栈的长度 */</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">StackLength</span><span class="p">(</span><span class="n">SqStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈不空，则用e返回S的栈顶元素，并返回OK；否则返回ERROR */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">GetTop</span><span class="p">(</span><span class="n">SqStack</span> <span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="k">else</span>
</span><span class="line">                <span class="o">*</span><span class="n">e</span><span class="o">=</span><span class="n">S</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="p">];</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 插入元素e为新的栈顶元素 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Push</span><span class="p">(</span><span class="n">SqStack</span> <span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span> <span class="o">==</span> <span class="n">MAXSIZE</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="cm">/* 栈满 */</span>
</span><span class="line">        <span class="p">{</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">++</span><span class="p">;</span>				<span class="cm">/* 栈顶指针增加一 */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">]</span><span class="o">=</span><span class="n">e</span><span class="p">;</span>  <span class="cm">/* 将新插入元素赋值给栈顶空间 */</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈不空，则删除S的栈顶元素，用e返回其值，并返回OK；否则返回ERROR */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Pop</span><span class="p">(</span><span class="n">SqStack</span> <span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="o">*</span><span class="n">e</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">];</span>	<span class="cm">/* 将要删除的栈顶元素赋值给e */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">--</span><span class="p">;</span>				<span class="cm">/* 栈顶指针减一 */</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 从栈底到栈顶依次对栈中每个元素显示 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">StackTraverse</span><span class="p">(</span><span class="n">SqStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">        <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span class="line">        <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="p">)</span>
</span><span class="line">        <span class="p">{</span>
</span><span class="line">                <span class="n">visit</span><span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]);</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>
</span><span class="line">        <span class="n">SqStack</span> <span class="n">s</span><span class="p">;</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">e</span><span class="p">;</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="n">InitStack</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="o">==</span><span class="n">OK</span><span class="p">)</span>
</span><span class="line">                <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">                        <span class="n">Push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="n">j</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈中元素依次为：&quot;</span><span class="p">);</span>
</span><span class="line">        <span class="n">StackTraverse</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span class="line">        <span class="n">Pop</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;弹出的栈顶元素 e=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈空否：%d(1:空 0:否)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">StackEmpty</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">        <span class="n">GetTop</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈顶元素 e=%d 栈的长度为%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">StackLength</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">        <span class="n">ClearStack</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;清空栈后，栈空否：%d(1:空 0:否)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">StackEmpty</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">
</span><span class="line">        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.Linked stack</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="cp">#include &quot;stdio.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;stdlib.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;math.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;time.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#define OK 1</span>
</span><span class="line"><span class="cp">#define ERROR 0</span>
</span><span class="line"><span class="cp">#define TRUE 1</span>
</span><span class="line"><span class="cp">#define FALSE 0</span>
</span><span class="line"><span class="cp">#define MAXSIZE 1000 </span><span class="cm">/* 存储空间初始分配量 */</span><span class="cp"></span>
</span><span class="line">
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">Status</span><span class="p">;</span>
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">SElemType</span><span class="p">;</span> <span class="cm">/* SElemType类型根据实际情况而定，这里假设为int */</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="cm">/* 链栈结构 */</span>
</span><span class="line"><span class="k">typedef</span> <span class="k">struct</span> <span class="n">StackNode</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">SElemType</span> <span class="n">data</span><span class="p">;</span>
</span><span class="line">        <span class="k">struct</span> <span class="n">StackNode</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span><span class="n">StackNode</span><span class="p">,</span><span class="o">*</span><span class="n">LinkStackPtr</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">typedef</span> <span class="k">struct</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">LinkStackPtr</span> <span class="n">top</span><span class="p">;</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">count</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span><span class="n">LinkStack</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">Status</span> <span class="nf">visit</span><span class="p">(</span><span class="n">SElemType</span> <span class="n">c</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/*  构造一个空栈S */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">InitStack</span><span class="p">(</span><span class="n">LinkStack</span> <span class="o">*</span><span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span> <span class="o">=</span> <span class="p">(</span><span class="n">LinkStackPtr</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">StackNode</span><span class="p">));</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 把S置为空栈 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">ClearStack</span><span class="p">(</span><span class="n">LinkStack</span> <span class="o">*</span><span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">LinkStackPtr</span> <span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">;</span>
</span><span class="line">        <span class="n">p</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">;</span>
</span><span class="line">        <span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</span><span class="line">        <span class="p">{</span>
</span><span class="line">                <span class="n">q</span><span class="o">=</span><span class="n">p</span><span class="p">;</span>
</span><span class="line">                <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span><span class="line">                <span class="n">free</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈S为空栈，则返回TRUE，否则返回FALSE */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">StackEmpty</span><span class="p">(</span><span class="n">LinkStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">count</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">TRUE</span><span class="p">;</span>
</span><span class="line">        <span class="k">else</span>
</span><span class="line">                <span class="k">return</span> <span class="n">FALSE</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 返回S的元素个数，即栈的长度 */</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">StackLength</span><span class="p">(</span><span class="n">LinkStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="n">S</span><span class="p">.</span><span class="n">count</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈不空，则用e返回S的栈顶元素，并返回OK；否则返回ERROR */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">GetTop</span><span class="p">(</span><span class="n">LinkStack</span> <span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="o">==</span><span class="nb">NULL</span><span class="p">)</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="k">else</span>
</span><span class="line">                <span class="o">*</span><span class="n">e</span><span class="o">=</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 插入元素e为新的栈顶元素 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Push</span><span class="p">(</span><span class="n">LinkStack</span> <span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">LinkStackPtr</span> <span class="n">s</span><span class="o">=</span><span class="p">(</span><span class="n">LinkStackPtr</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">StackNode</span><span class="p">));</span>
</span><span class="line">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span><span class="o">=</span><span class="n">e</span><span class="p">;</span>
</span><span class="line">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">;</span>	<span class="cm">/* 把当前的栈顶元素赋值给新结点的直接后继 */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">=</span><span class="n">s</span><span class="p">;</span>         <span class="cm">/* 将新的结点s赋值给栈顶指针 */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 若栈不空，则删除S的栈顶元素，用e返回其值，并返回OK；否则返回ERROR */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Pop</span><span class="p">(</span><span class="n">LinkStack</span> <span class="o">*</span><span class="n">S</span><span class="p">,</span><span class="n">SElemType</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">LinkStackPtr</span> <span class="n">p</span><span class="p">;</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="n">StackEmpty</span><span class="p">(</span><span class="o">*</span><span class="n">S</span><span class="p">))</span>
</span><span class="line">                <span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">        <span class="o">*</span><span class="n">e</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
</span><span class="line">        <span class="n">p</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="p">;</span>					<span class="cm">/* 将栈顶结点赋值给p */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">=</span><span class="n">S</span><span class="o">-&gt;</span><span class="n">top</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>    <span class="cm">/* 使得栈顶指针下移一位，指向后一结点 */</span>
</span><span class="line">        <span class="n">free</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>                    <span class="cm">/* 释放结点p */</span>
</span><span class="line">        <span class="n">S</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">--</span><span class="p">;</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="n">Status</span> <span class="nf">StackTraverse</span><span class="p">(</span><span class="n">LinkStack</span> <span class="n">S</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="n">LinkStackPtr</span> <span class="n">p</span><span class="p">;</span>
</span><span class="line">        <span class="n">p</span><span class="o">=</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="p">;</span>
</span><span class="line">        <span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</span><span class="line">        <span class="p">{</span>
</span><span class="line">                 <span class="n">visit</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
</span><span class="line">                 <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">        <span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>
</span><span class="line">        <span class="n">LinkStack</span> <span class="n">s</span><span class="p">;</span>
</span><span class="line">        <span class="kt">int</span> <span class="n">e</span><span class="p">;</span>
</span><span class="line">        <span class="k">if</span><span class="p">(</span><span class="n">InitStack</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="o">==</span><span class="n">OK</span><span class="p">)</span>
</span><span class="line">                <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">                        <span class="n">Push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="n">j</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈中元素依次为：&quot;</span><span class="p">);</span>
</span><span class="line">        <span class="n">StackTraverse</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span><span class="line">        <span class="n">Pop</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;弹出的栈顶元素 e=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈空否：%d(1:空 0:否)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">StackEmpty</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">        <span class="n">GetTop</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈顶元素 e=%d 栈的长度为%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">StackLength</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">        <span class="n">ClearStack</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
</span><span class="line">        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;清空栈后，栈空否：%d(1:空 0:否)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">StackEmpty</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
</span><span class="line">        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/19/ctci-q1-dot-1/">CTCI-Q1.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-19T16:16:38+08:00" pubdate data-updated="true">Aug 19<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The question is: </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="yaml"><span class="line"><span class="l-Scalar-Plain">Implement an algorithm to determine if a string has all unique characters. What if you can not use additional data structures?</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We will try to solve this problem using four languages c++, java, python.</p>

<p>In order to simplify this problem, we shorten the character set to ASCII.</p>

<p>In this case, if the string is longer that 256, surely at least two will be the same. </p>

<p>We can create an array char_set whose values are booleans. thus char_set[val] = true means that the char is in the array and char_set[val] = false means that the char is not in the array.  </p>

<p>1.java version:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isUnique</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">        <span class="k">if</span> <span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">256</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class="line">        <span class="o">}</span>
</span><span class="line">        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">acsii_set</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="mi">256</span><span class="o">];</span>
</span><span class="line">        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">str</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class="line">            <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">str</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class="line">            <span class="k">if</span> <span class="o">(</span><span class="n">ascii_set</span><span class="o">[</span><span class="n">val</span><span class="o">])</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class="line">            <span class="n">ascii_set</span><span class="o">[</span><span class="n">val</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class="line">        <span class="o">}</span>
</span><span class="line">        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.c++ version:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="cpp"><span class="line"><span class="kt">bool</span> <span class="n">isUnique</span><span class="p">(</span><span class="n">string</span> <span class="n">str</span><span class="p">){</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">256</span><span class="p">){</span>
</span><span class="line">		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="kt">bool</span> <span class="n">ascii_set</span><span class="p">[</span><span class="mi">256</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="kc">false</span><span class="p">};</span>
</span><span class="line">	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span class="line">		<span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span class="line">		<span class="k">if</span> <span class="p">(</span><span class="n">ascii_set</span><span class="p">[</span><span class="n">val</span><span class="p">]){</span>
</span><span class="line">			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="line">		<span class="p">}</span>
</span><span class="line">		<span class="n">ascii_set</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="n">reutrn</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>3.python version:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="c">#!/usr/local/bin/python3</span>
</span><span class="line"><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">is_unique</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
</span><span class="line">    <span class="n">charsTable</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span class="line">    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">:</span>
</span><span class="line">        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">charsTable</span><span class="p">:</span>
</span><span class="line">            <span class="k">return</span> <span class="bp">False</span>
</span><span class="line">        <span class="n">charsTable</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span class="line">    <span class="k">return</span> <span class="bp">True</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="n">test_str1</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span>
</span><span class="line"><span class="n">test_str2</span> <span class="o">=</span> <span class="s">&quot;abcdef&quot;</span>
</span><span class="line"><span class="n">ans1</span> <span class="o">=</span> <span class="n">is_unique</span><span class="p">(</span><span class="n">test_str1</span><span class="p">)</span>
</span><span class="line"><span class="n">ans2</span> <span class="o">=</span> <span class="n">is_unique</span><span class="p">(</span><span class="n">test_str2</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="n">ans1</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="n">ans2</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Steven Sun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
