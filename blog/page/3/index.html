
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Steven's Blog</title>
  <meta name="author" content="Steven Sun">

  
  <meta name="description" content="1
2
3
4
open(&#39;file&#39;).read() # read entire file into string
open(&#39;file&#39;).read(N) # read next N bytes into string
open(&#39;file&#39;). &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://isunix.github.io/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Steven's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>



  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav id="main-nav" role="navigation">
<ul class="main-navigation">
  <li><a href="/" class="nav-link">Blog</a></li>
  <li><a href="/blog/archives" class="nav-link">Archives</a></li>
  <li><a href="/atom.xml" class="nav-link">RSS</a></li>
  <li><a href="/about" class="nav-link">About</a></li>
</ul>

</nav>
  <header role="banner"><hgroup>
	
		<img src="/images/portrait.jpg" class="portrait" height=250px width=250px />
	
  <h1><a href="/">Steven's Blog</a></h1>
  
    <h2>A dream land of peace!</h2>
  
</hgroup>

</header> 
  
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/14/python-basics-snippets/">Python Basics Snippets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-14T14:27:29+08:00" pubdate data-updated="true">Aug 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="nb">open</span><span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> 							<span class="c"># read entire file into string</span>
</span><span class="line"><span class="nb">open</span><span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> 							<span class="c"># read next N bytes into string</span>
</span><span class="line"><span class="nb">open</span><span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>						<span class="c"># read entire file into line strings list</span>
</span><span class="line"><span class="nb">open</span><span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> 						<span class="c"># read next line, through &#39;\n&#39;  </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/14/install-python-on-centos-locally/">Install Python on Centos Locally</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-14T12:25:15+08:00" pubdate data-updated="true">Aug 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post depicts how to install Python on the CentOS in your local dir.  </p>

<p>1.First show the python2.x version.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="mf">2.7</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">Python</span><span class="o">-</span><span class="mf">2.7</span><span class="o">.</span><span class="mf">6.</span><span class="n">tar</span><span class="o">.</span><span class="n">xz</span>
</span><span class="line"><span class="n">tar</span> <span class="o">-</span><span class="n">zxvf</span> <span class="n">Python</span><span class="o">-</span><span class="mf">2.7</span><span class="o">.</span><span class="mf">6.</span><span class="n">tar</span><span class="o">.</span><span class="n">xz</span>
</span><span class="line"><span class="n">cd</span> <span class="n">Python</span><span class="o">-</span><span class="mf">2.7</span><span class="o">.</span><span class="mi">6</span>
</span><span class="line"><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">sun</span><span class="o">/</span><span class="n">local</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="nb">unicode</span><span class="o">=</span><span class="n">ucs4</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">shared</span> <span class="n">LDFLAGS</span><span class="o">=</span><span class="s">&quot;-Wl,-rpath /home/sun/local/lib&quot;</span>
</span><span class="line"><span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">altinstall</span>
</span><span class="line">
</span><span class="line"><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">bitbucket</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pypa</span><span class="o">/</span><span class="n">setuptools</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">bootstrap</span><span class="o">/</span><span class="n">ez_setup</span><span class="o">.</span><span class="n">py</span>
</span><span class="line"><span class="n">python</span> <span class="n">ez_setup</span><span class="o">.</span><span class="n">py</span>
</span><span class="line"><span class="n">easy_install</span><span class="o">-</span><span class="mf">2.7</span> <span class="n">pip</span>
</span><span class="line"><span class="n">pip2</span><span class="o">.</span><span class="mi">7</span> <span class="n">install</span> <span class="p">[</span><span class="n">packagename</span><span class="p">]</span>
</span><span class="line"><span class="p">(</span><span class="n">pip</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">pip2</span><span class="o">.</span><span class="mi">7</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.Now the python3.x version</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">Python</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">xz</span>
</span><span class="line"><span class="n">tar</span> <span class="n">xf</span> <span class="n">Python</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">xz</span>
</span><span class="line"><span class="n">cd</span> <span class="n">Python</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">1</span>
</span><span class="line"><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">hom</span><span class="o">/</span><span class="n">sun</span><span class="o">/</span><span class="n">local</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">shared</span> <span class="n">LDFLAGS</span><span class="o">=</span><span class="s">&quot;-Wl,-rpath /home/sun/local/lib&quot;</span>
</span><span class="line"><span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">altinstall</span>
</span><span class="line">
</span><span class="line"><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">bitbucket</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pypa</span><span class="o">/</span><span class="n">setuptools</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">bootstrap</span><span class="o">/</span><span class="n">ez_setup</span><span class="o">.</span><span class="n">py</span>
</span><span class="line"><span class="n">mv</span> <span class="n">python3</span><span class="o">.</span><span class="mi">4</span> <span class="n">python3</span>
</span><span class="line"><span class="n">python3</span> <span class="n">ez_setup</span><span class="o">.</span><span class="n">py</span>
</span><span class="line"><span class="n">easy_install</span><span class="o">-</span><span class="mf">3.4</span> <span class="n">pip</span>
</span><span class="line"><span class="n">pip3</span> <span class="n">install</span> <span class="p">[</span><span class="n">packagename</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If you want to install the package used by python3, you need to using the command “pip3 install [packagename]”, otherwise just “pip install [packagename]”</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/14/using-python-to-implement-a-stack/">Using Python to Implement a Stack</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-14T10:53:40+08:00" pubdate data-updated="true">Aug 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post, we are going to implement a stack using Python. We are gonna do it using two ways. The first is by pushing to the end of the list, and pop out the rightmost item. The second is by “pushing” to the leftmost and pop out the leftmost item.  </p>

<ol>
  <li>push to the end  </li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="k">class</span> <span class="nc">Stack</span><span class="p">:</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">==</span> <span class="p">[]</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span class="line">        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span><span class="line">
</span><span class="line">    <span class="sd">&#39;&#39;&#39;</span>
</span><span class="line"><span class="sd">    returns the top item from the stack but does not remove it.</span>
</span><span class="line"><span class="sd">    It needs no parameters.</span>
</span><span class="line"><span class="sd">    The stack is not modified.</span>
</span><span class="line"><span class="sd">    &#39;&#39;&#39;</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">s</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">()</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">is_empty</span><span class="p">())</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s">&#39;dog&#39;</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">peek</span><span class="p">())</span>
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">peek</span><span class="p">())</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">is_empty</span><span class="p">())</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mf">8.4</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ol>
  <li>push to the front end</li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="k">class</span> <span class="nc">Stack</span><span class="p">:</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">==</span> <span class="p">[]</span>
</span><span class="line">
</span><span class="line">    <span class="c">#push, inserting at the front end.</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span><span class="line">        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="c">#pop out the leftest item.</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="line">
</span><span class="line">    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">s</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">()</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
</span><span class="line"><span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s">&#39;true&#39;</span><span class="p">)</span>
</span><span class="line"><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
</span><span class="line"><span class="k">print</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/14/common-tips-using-java-to-practice-algorithms/">Common Tips Using Java to Practice Algorithms</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-14T10:07:16+08:00" pubdate data-updated="true">Aug 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are common structues and tips while practicing algorithms and data structueres using java. I will try to keep them down in this post.   </p>

<p>1.hash tables  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">public</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Student</span><span class="o">&gt;</span> <span class="n">buildMap</span><span class="o">(</span><span class="n">Student</span><span class="o">[]</span> <span class="n">students</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">IntegerJ</span> <span class="n">Student</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Student</span><span class="o">&gt;();</span>
</span><span class="line">    <span class="k">for</span> <span class="o">(</span><span class="n">Student</span> <span class="n">s</span> <span class="o">:</span> <span class="n">students</span><span class="o">)</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">getld</span><span class="o">(),</span> <span class="n">s</span><span class="o">);</span>
</span><span class="line">    <span class="k">return</span> <span class="n">map</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.ArrayList(Dinamically Resizing Array) </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">merge</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">,</span> <span class="n">String</span><span class="o">[]</span> <span class="n">more</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sentence</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Arrayl_ist</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
</span><span class="line">  <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">w</span> <span class="o">:</span> <span class="n">words</span><span class="o">)</span> <span class="n">sentence</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
</span><span class="line">  <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">w</span> <span class="o">:</span> <span class="n">more</span><span class="o">)</span> <span class="n">sentence</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
</span><span class="line">  <span class="k">return</span> <span class="n">sentence</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>3.StringBuffer   </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">public</span> <span class="n">String</span> <span class="nf">joinWords</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">){</span>
</span><span class="line">  <span class="n">StringBuffer</span> <span class="n">sentence</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
</span><span class="line">  <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">w</span> <span class="o">:</span> <span class="n">words</span><span class="o">){</span>
</span><span class="line">    <span class="n">sentence</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">  <span class="k">return</span> <span class="n">sentence</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>4.LinkedList  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
</span><span class="line">  <span class="n">Node</span> <span class="n">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class="line">  <span class="kt">int</span> <span class="n">data</span><span class="o">;</span>
</span><span class="line">
</span><span class="line">  <span class="kd">public</span> <span class="nf">Node</span><span class="o">(</span><span class="kt">int</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="n">data</span> <span class="o">=</span> <span class="n">d</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="kt">void</span> <span class="nf">appendToTail</span><span class="o">(</span><span class="kt">int</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="n">Node</span> <span class="n">end</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="o">(</span><span class="n">d</span><span class="o">);</span>
</span><span class="line">    <span class="n">Node</span> <span class="n">n</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
</span><span class="line">    <span class="k">while</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="n">n</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">end</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>5.Deleting a node from a singly linkes list.  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="n">Node</span> <span class="nf">deleteNode</span><span class="o">(</span><span class="n">Node</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="n">Node</span> <span class="n">n</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
</span><span class="line">
</span><span class="line">  <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">data</span> <span class="o">==</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">return</span> <span class="n">head</span><span class="o">.</span><span class="na">next</span><span class="o">;</span> <span class="cm">/* moved head */</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="k">while</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">next</span> <span class="mi">1</span><span class="o">=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">data</span> <span class="o">==</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">n</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">      <span class="k">return</span> <span class="n">head</span><span class="o">;</span> <span class="cm">/* head didn&#39;t change */</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">  <span class="k">return</span> <span class="n">head</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>6.Implementing a stack</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">class</span> <span class="nc">Stack</span> <span class="o">{</span>
</span><span class="line">  <span class="n">Node</span> <span class="n">top</span><span class="o">;</span>
</span><span class="line">
</span><span class="line">  <span class="n">Object</span> <span class="nf">pop</span><span class="o">()</span> <span class="o">{</span>
</span><span class="line">    <span class="k">if</span><span class="o">(</span><span class="n">top</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">Object</span> <span class="n">item</span> <span class="o">=</span> <span class="n">top</span><span class="o">.</span><span class="na">data</span><span class="o">;</span>
</span><span class="line">      <span class="n">p</span> <span class="o">=</span> <span class="n">top</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">      <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="kt">void</span> <span class="nf">push</span><span class="o">(</span><span class="mi">0</span><span class="n">bject</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="n">Node</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</span><span class="line">    <span class="n">next</span> <span class="o">=</span> <span class="n">top</span><span class="o">;</span>
</span><span class="line">    <span class="n">top</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="n">Object</span> <span class="nf">peek</span><span class="o">()</span> <span class="o">{</span>
</span><span class="line">    <span class="k">return</span> <span class="n">top</span><span class="o">.</span><span class="na">data</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>7.Implementing a queue.  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">class</span> <span class="nc">Queue</span> <span class="o">{</span>
</span><span class="line">  <span class="n">Node</span> <span class="n">first</span><span class="o">,</span> <span class="n">last</span><span class="o">;</span>
</span><span class="line">
</span><span class="line">  <span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="mi">0</span><span class="n">bject</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">if</span><span class="o">(</span><span class="n">first</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">last</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</span><span class="line">      <span class="n">first</span> <span class="o">=</span> <span class="n">last</span><span class="o">;</span>
</span><span class="line">      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class="line">        <span class="n">last</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</span><span class="line">        <span class="n">last</span> <span class="o">=</span> <span class="n">last</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">      <span class="o">}</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line">
</span><span class="line">  <span class="n">Object</span> <span class="n">dequeueQ</span> <span class="o">{</span>
</span><span class="line">    <span class="k">if</span> <span class="o">(</span><span class="n">first</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">Object</span> <span class="n">item</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="na">data</span><span class="o">;</span>
</span><span class="line">      <span class="n">first</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
</span><span class="line">      <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>8.pseudocode to implement DFS</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kt">void</span> <span class="nf">search</span><span class="o">(</span><span class="n">Node</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="k">if</span> <span class="o">(</span><span class="n">root</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
</span><span class="line">  <span class="n">visit</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
</span><span class="line">  <span class="n">root</span><span class="o">.</span><span class="na">visited</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class="line">  <span class="n">foreach</span> <span class="o">(</span><span class="n">Node</span> <span class="n">n</span> <span class="n">in</span> <span class="n">root</span><span class="o">.</span><span class="na">adjacent</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">visited</span> <span class="o">==</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="n">search</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>9.BFS.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kt">void</span> <span class="nf">search</span><span class="o">(</span><span class="n">Node</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">  <span class="n">Queue</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueueQ</span><span class="o">;</span>
</span><span class="line">  <span class="n">root</span><span class="o">.</span><span class="na">visited</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class="line">  <span class="n">visit</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
</span><span class="line">  <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">root</span><span class="o">);</span> <span class="c1">// Add to end of queue</span>
</span><span class="line">
</span><span class="line">  <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
</span><span class="line">    <span class="n">Node</span> <span class="n">r</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">dequeueQ</span><span class="o">;</span> <span class="c1">// Remove from front of queue</span>
</span><span class="line">    <span class="n">foreach</span> <span class="o">(</span><span class="n">Node</span> <span class="n">n</span> <span class="n">in</span> <span class="n">r</span><span class="o">.</span><span class="na">adjacent</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">      <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">visited</span> <span class="o">==</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">        <span class="n">visit</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
</span><span class="line">        <span class="n">n</span><span class="o">.</span><span class="na">visited</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class="line">        <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
</span><span class="line">      <span class="o">}</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">  <span class="o">}</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/13/er-cha-shu-bian-li-de-di-gui-yu-fei-di-gui-shi-xian/">二叉树遍历的递归与非递归实现</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-13T11:00:50+08:00" pubdate data-updated="true">Aug 13<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Just as is depicted by the title, in this post, we are going to realize the recursive traversing and non-recursive traveersing of a binary tree.   </p>

<p>First we will show the recursive one. This example is from the book ‘大话数据结构’.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
<span class="line-number">229</span>
<span class="line-number">230</span>
<span class="line-number">231</span>
<span class="line-number">232</span>
<span class="line-number">233</span>
<span class="line-number">234</span>
<span class="line-number">235</span>
<span class="line-number">236</span>
<span class="line-number">237</span>
<span class="line-number">238</span>
<span class="line-number">239</span>
<span class="line-number">240</span>
<span class="line-number">241</span>
<span class="line-number">242</span>
<span class="line-number">243</span>
<span class="line-number">244</span>
<span class="line-number">245</span>
<span class="line-number">246</span>
<span class="line-number">247</span>
<span class="line-number">248</span>
<span class="line-number">249</span>
<span class="line-number">250</span>
<span class="line-number">251</span>
<span class="line-number">252</span>
<span class="line-number">253</span>
<span class="line-number">254</span>
<span class="line-number">255</span>
<span class="line-number">256</span>
<span class="line-number">257</span>
<span class="line-number">258</span>
<span class="line-number">259</span>
<span class="line-number">260</span>
<span class="line-number">261</span>
<span class="line-number">262</span>
<span class="line-number">263</span>
<span class="line-number">264</span>
<span class="line-number">265</span>
<span class="line-number">266</span>
<span class="line-number">267</span>
<span class="line-number">268</span>
<span class="line-number">269</span>
<span class="line-number">270</span>
<span class="line-number">271</span>
<span class="line-number">272</span>
<span class="line-number">273</span>
<span class="line-number">274</span>
<span class="line-number">275</span>
<span class="line-number">276</span>
<span class="line-number">277</span>
<span class="line-number">278</span>
<span class="line-number">279</span>
<span class="line-number">280</span>
<span class="line-number">281</span>
<span class="line-number">282</span>
<span class="line-number">283</span>
<span class="line-number">284</span>
<span class="line-number">285</span>
<span class="line-number">286</span>
<span class="line-number">287</span>
<span class="line-number">288</span>
<span class="line-number">289</span>
<span class="line-number">290</span>
<span class="line-number">291</span>
<span class="line-number">292</span>
<span class="line-number">293</span>
<span class="line-number">294</span>
<span class="line-number">295</span>
<span class="line-number">296</span>
<span class="line-number">297</span>
<span class="line-number">298</span>
<span class="line-number">299</span>
<span class="line-number">300</span>
<span class="line-number">301</span>
<span class="line-number">302</span>
<span class="line-number">303</span>
<span class="line-number">304</span>
<span class="line-number">305</span>
<span class="line-number">306</span>
<span class="line-number">307</span>
<span class="line-number">308</span>
<span class="line-number">309</span>
<span class="line-number">310</span>
<span class="line-number">311</span>
<span class="line-number">312</span>
<span class="line-number">313</span>
<span class="line-number">314</span>
<span class="line-number">315</span>
<span class="line-number">316</span>
<span class="line-number">317</span>
<span class="line-number">318</span>
<span class="line-number">319</span>
<span class="line-number">320</span>
<span class="line-number">321</span>
<span class="line-number">322</span>
<span class="line-number">323</span>
<span class="line-number">324</span>
<span class="line-number">325</span>
<span class="line-number">326</span>
<span class="line-number">327</span>
</pre></td><td class="code"><pre><code class="c"><span class="line"><span class="cp">#include &quot;stdio.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;stdlib.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;math.h&quot;</span>
</span><span class="line"><span class="cp">#include &quot;time.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#define OK 1</span>
</span><span class="line"><span class="cp">#define ERROR 0</span>
</span><span class="line"><span class="cp">#define TRUE 1</span>
</span><span class="line"><span class="cp">#define FALSE 0</span>
</span><span class="line">
</span><span class="line"><span class="cp">#define MAXSIZE 100 </span><span class="cm">/* 存储空间初始分配量 */</span><span class="cp"></span>
</span><span class="line"><span class="cp">#define MAX_TREE_SIZE 100 </span><span class="cm">/* 二叉树的最大结点数 */</span><span class="cp"></span>
</span><span class="line">
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">Status</span><span class="p">;</span>		<span class="cm">/* Status是函数的类型,其值是函数结果状态代码，如OK等 */</span>
</span><span class="line"><span class="k">typedef</span> <span class="kt">int</span> <span class="n">TElemType</span><span class="p">;</span>  <span class="cm">/* 树结点的数据类型，目前暂定为整型 */</span>
</span><span class="line"><span class="k">typedef</span> <span class="n">TElemType</span> <span class="n">SqBiTree</span><span class="p">[</span><span class="n">MAX_TREE_SIZE</span><span class="p">];</span> <span class="cm">/* 0号单元存储根结点  */</span>
</span><span class="line">
</span><span class="line"><span class="k">typedef</span> <span class="k">struct</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">level</span><span class="p">,</span><span class="n">order</span><span class="p">;</span> <span class="cm">/* 结点的层,本层序号(按满二叉树计算) */</span>
</span><span class="line"><span class="p">}</span><span class="n">Position</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">TElemType</span> <span class="n">Nil</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="cm">/*  设整型以0为空 */</span>
</span><span class="line">
</span><span class="line"><span class="n">Status</span> <span class="nf">visit</span><span class="p">(</span><span class="n">TElemType</span> <span class="n">c</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 构造空二叉树T。因为T是固定数组，不会改变，故不需要&amp; */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">InitBiTree</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">MAX_TREE_SIZE</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 初值为空 */</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 按层序次序输入二叉树中结点的值(字符型或整型), 构造顺序存储的二叉树T */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">CreateBiTree</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span class="line"> 	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;请按层序输入结点的值(整型)，0表示空结点，输999结束。结点数≤%d:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">MAX_TREE_SIZE</span><span class="p">);</span>
</span><span class="line">	<span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">)</span>
</span><span class="line">	<span class="p">{</span>
</span><span class="line">		<span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">!=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="n">T</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="o">&amp;&amp;</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 此结点(不空)无双亲且不是根 */</span>
</span><span class="line">		<span class="p">{</span>
</span><span class="line">			<span class="n">printf</span><span class="p">(</span><span class="s">&quot;出现无双亲的非根结点%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span class="line">			<span class="n">exit</span><span class="p">(</span><span class="n">ERROR</span><span class="p">);</span>
</span><span class="line">		<span class="p">}</span>
</span><span class="line">		<span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">MAX_TREE_SIZE</span><span class="p">)</span>
</span><span class="line">	<span class="p">{</span>
</span><span class="line">		<span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 将空赋值给T的后面的结点 */</span>
</span><span class="line">		<span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="cp">#define ClearBiTree InitBiTree </span><span class="cm">/* 在顺序存储结构中，两函数完全一样 */</span><span class="cp"></span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 若T为空二叉树,则返回TRUE,否则FALSE */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">BiTreeEmpty</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 根结点为空,则树空 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">TRUE</span><span class="p">;</span>
</span><span class="line">	<span class="k">else</span>
</span><span class="line">		<span class="k">return</span> <span class="n">FALSE</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在。操作结果: 返回T的深度 */</span>
</span><span class="line"><span class="kt">int</span> <span class="nf">BiTreeDepth</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">   <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
</span><span class="line">   <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="cm">/* 找到最后一个结点 */</span>
</span><span class="line">     <span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span>
</span><span class="line">       <span class="k">break</span><span class="p">;</span>
</span><span class="line">   <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span class="line">   <span class="k">do</span>
</span><span class="line">     <span class="n">j</span><span class="o">++</span><span class="p">;</span>
</span><span class="line">   <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="n">powl</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="p">));</span><span class="cm">/* 计算2的j次幂。 */</span>
</span><span class="line">   <span class="k">return</span> <span class="n">j</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在 */</span>
</span><span class="line"><span class="cm">/* 操作结果:  当T不空,用e返回T的根,返回OK;否则返回ERROR,e无定义 */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Root</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">))</span> <span class="cm">/* T空 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">	<span class="k">else</span>
</span><span class="line">	<span class="p">{</span>
</span><span class="line">		<span class="o">*</span><span class="n">e</span><span class="o">=</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span><span class="line">		<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点(的位置) */</span>
</span><span class="line"><span class="cm">/* 操作结果: 返回处于位置e(层,本层序号)的结点的值 */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="nf">Value</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">Position</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	 <span class="k">return</span> <span class="n">T</span><span class="p">[(</span><span class="kt">int</span><span class="p">)</span><span class="n">powl</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">e</span><span class="p">.</span><span class="n">level</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">e</span><span class="p">.</span><span class="n">order</span><span class="o">-</span><span class="mi">2</span><span class="p">];</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点(的位置) */</span>
</span><span class="line"><span class="cm">/* 操作结果: 给处于位置e(层,本层序号)的结点赋新值value */</span>
</span><span class="line"><span class="n">Status</span> <span class="nf">Assign</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">Position</span> <span class="n">e</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">value</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">powl</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">e</span><span class="p">.</span><span class="n">level</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">e</span><span class="p">.</span><span class="n">order</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="cm">/* 将层、本层序号转为矩阵的序号 */</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="o">!=</span><span class="n">Nil</span><span class="o">&amp;&amp;</span><span class="n">T</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 给叶子赋非空值但双亲为空 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="o">==</span><span class="n">Nil</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="o">||</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">))</span> <span class="cm">/*  给双亲赋空值但有叶子（不空） */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">ERROR</span><span class="p">;</span>
</span><span class="line">	<span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">value</span><span class="p">;</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 若e是T的非根结点,则返回它的双亲,否则返回＂空＂ */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="nf">Parent</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 空树 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">e</span><span class="p">)</span> <span class="cm">/* 找到e */</span>
</span><span class="line">			<span class="k">return</span> <span class="n">T</span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
</span><span class="line">	<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 没找到e */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="o">*</span> <span class="err">初始条件</span><span class="o">:</span> <span class="err">二叉树</span><span class="n">T</span><span class="err">存在</span><span class="p">,</span><span class="n">e</span><span class="err">是</span><span class="n">T</span><span class="err">中某个结点</span> <span class="err">*/</span>
</span><span class="line"><span class="cm">/* 操作结果: 返回e的左孩子。若e无左孩子,则返回＂空＂ */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="n">LeftChild</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 空树 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">e</span><span class="p">)</span> <span class="cm">/* 找到e */</span>
</span><span class="line">			<span class="k">return</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
</span><span class="line">	<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 没找到e */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 返回e的右孩子。若e无右孩子,则返回＂空＂ */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="n">RightChild</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 空树 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">e</span><span class="p">)</span> <span class="cm">/* 找到e */</span>
</span><span class="line">			<span class="k">return</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">];</span>
</span><span class="line">	<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 没找到e */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 返回e的左兄弟。若e是T的左孩子或无左兄弟,则返回＂空＂ */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="n">LeftSibling</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 空树 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">e</span><span class="o">&amp;&amp;</span><span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="cm">/* 找到e且其序号为偶数(是右孩子) */</span>
</span><span class="line">			<span class="k">return</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
</span><span class="line">	<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 没找到e */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在,e是T中某个结点 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 返回e的右兄弟。若e是T的右孩子或无右兄弟,则返回＂空＂ */</span>
</span><span class="line"><span class="n">TElemType</span> <span class="n">RightSibling</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="n">TElemType</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 空树 */</span>
</span><span class="line">		<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">e</span><span class="o">&amp;&amp;</span><span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="p">)</span> <span class="cm">/* 找到e且其序号为奇数(是左孩子) */</span>
</span><span class="line">			<span class="k">return</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
</span><span class="line">	<span class="k">return</span> <span class="n">Nil</span><span class="p">;</span> <span class="cm">/* 没找到e */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* PreOrderTraverse()调用 */</span>
</span><span class="line"><span class="kt">void</span> <span class="n">PreTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="kt">int</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="n">visit</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 左子树不空 */</span>
</span><span class="line">		<span class="n">PreTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 右子树不空 */</span>
</span><span class="line">		<span class="n">PreTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树存在 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 先序遍历T。 */</span>
</span><span class="line"><span class="n">Status</span> <span class="n">PreOrderTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">))</span> <span class="cm">/* 树不空 */</span>
</span><span class="line">	 <span class="n">PreTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* InOrderTraverse()调用 */</span>
</span><span class="line"><span class="kt">void</span> <span class="n">InTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="kt">int</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 左子树不空 */</span>
</span><span class="line">		<span class="n">InTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span><span class="line">	<span class="n">visit</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 右子树不空 */</span>
</span><span class="line">		<span class="n">InTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树存在 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 中序遍历T。 */</span>
</span><span class="line"><span class="n">Status</span> <span class="n">InOrderTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">))</span> <span class="cm">/* 树不空 */</span>
</span><span class="line">		<span class="n">InTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* PostOrderTraverse()调用 */</span>
</span><span class="line"><span class="kt">void</span> <span class="n">PostTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">,</span><span class="kt">int</span> <span class="n">e</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 左子树不空 */</span>
</span><span class="line">		<span class="n">PostTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span> <span class="cm">/* 右子树不空 */</span>
</span><span class="line">		<span class="n">PostTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
</span><span class="line">	<span class="n">visit</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="cm">/* 初始条件: 二叉树T存在 */</span>
</span><span class="line"><span class="cm">/* 操作结果: 后序遍历T。 */</span>
</span><span class="line"><span class="n">Status</span> <span class="n">PostOrderTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">))</span> <span class="cm">/* 树不空 */</span>
</span><span class="line">		<span class="n">PostTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="k">return</span> <span class="n">OK</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 层序遍历二叉树 */</span>
</span><span class="line"><span class="kt">void</span> <span class="n">LevelOrderTraverse</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">MAX_TREE_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
</span><span class="line">	<span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">Nil</span><span class="p">)</span>
</span><span class="line">		<span class="n">i</span><span class="o">--</span><span class="p">;</span> <span class="cm">/* 找到最后一个非空结点的序号 */</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>  <span class="cm">/* 从根结点起,按层序遍历二叉树 */</span>
</span><span class="line">		<span class="k">if</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span>
</span><span class="line">			<span class="n">visit</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span> <span class="cm">/* 只遍历非空的结点 */</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* 逐层、按本层序号输出二叉树 */</span>
</span><span class="line"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">SqBiTree</span> <span class="n">T</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</span><span class="line">	<span class="n">Position</span> <span class="n">p</span><span class="p">;</span>
</span><span class="line">	<span class="n">TElemType</span> <span class="n">e</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">BiTreeDepth</span><span class="p">(</span><span class="n">T</span><span class="p">);</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">	<span class="p">{</span>
</span><span class="line">		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;第%d层: &quot;</span><span class="p">,</span><span class="n">j</span><span class="p">);</span>
</span><span class="line">		<span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;=</span><span class="n">powl</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
</span><span class="line">		<span class="p">{</span>
</span><span class="line">			<span class="n">p</span><span class="p">.</span><span class="n">level</span><span class="o">=</span><span class="n">j</span><span class="p">;</span>
</span><span class="line">			<span class="n">p</span><span class="p">.</span><span class="n">order</span><span class="o">=</span><span class="n">k</span><span class="p">;</span>
</span><span class="line">			<span class="n">e</span><span class="o">=</span><span class="n">Value</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">p</span><span class="p">);</span>
</span><span class="line">			<span class="k">if</span><span class="p">(</span><span class="n">e</span><span class="o">!=</span><span class="n">Nil</span><span class="p">)</span>
</span><span class="line">				<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d:%d &quot;</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">		<span class="p">}</span>
</span><span class="line">		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="n">Status</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line">	<span class="n">Position</span> <span class="n">p</span><span class="p">;</span>
</span><span class="line">	<span class="n">TElemType</span> <span class="n">e</span><span class="p">;</span>
</span><span class="line">	<span class="n">SqBiTree</span> <span class="n">T</span><span class="p">;</span>
</span><span class="line">	<span class="n">InitBiTree</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">CreateBiTree</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;建立二叉树后,树空否？%d(1:是 0:否) 树的深度=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">),</span><span class="n">BiTreeDepth</span><span class="p">(</span><span class="n">T</span><span class="p">));</span>
</span><span class="line">	<span class="n">i</span><span class="o">=</span><span class="n">Root</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span class="line">		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;二叉树的根为：%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="k">else</span>
</span><span class="line">		<span class="nf">printf</span><span class="p">(</span><span class="s">&quot;树空，无根</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;层序遍历二叉树:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">LevelOrderTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;前序遍历二叉树:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">PreOrderTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;中序遍历二叉树:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">InOrderTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;后序遍历二叉树:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">PostOrderTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;修改结点的层号3本层序号2。&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">p</span><span class="p">.</span><span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
</span><span class="line">	<span class="n">p</span><span class="p">.</span><span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
</span><span class="line">	<span class="n">e</span><span class="o">=</span><span class="n">Value</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">p</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;待修改结点的原值为%d请输入新值:50 &quot;</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="n">e</span><span class="o">=</span><span class="mi">50</span><span class="p">;</span>
</span><span class="line">	<span class="n">Assign</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;前序遍历二叉树:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="n">PreOrderTraverse</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;结点%d的双亲为%d,左右孩子分别为&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">Parent</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">e</span><span class="p">));</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d,%d,左右兄弟分别为&quot;</span><span class="p">,</span><span class="n">LeftChild</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">e</span><span class="p">),</span><span class="n">RightChild</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">e</span><span class="p">));</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d,%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">LeftSibling</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">e</span><span class="p">),</span><span class="n">RightSibling</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">e</span><span class="p">));</span>
</span><span class="line">	<span class="n">ClearBiTree</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class="line">	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;清除二叉树后,树空否？%d(1:是 0:否) 树的深度=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">BiTreeEmpty</span><span class="p">(</span><span class="n">T</span><span class="p">),</span><span class="n">BiTreeDepth</span><span class="p">(</span><span class="n">T</span><span class="p">));</span>
</span><span class="line">	<span class="n">i</span><span class="o">=</span><span class="n">Root</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span class="line">		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;二叉树的根为：%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>
</span><span class="line">	<span class="k">else</span>
</span><span class="line">		<span class="nf">printf</span><span class="p">(</span><span class="s">&quot;树空，无根</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now we will show you how to do without using the recursion method.  </p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/12/two-ways-to-create-a-module/">Two Ways to Build a Module</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-12T20:51:22+08:00" pubdate data-updated="true">Aug 12<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are two build systems for building a module. One is to use the old and stable “ExtUtils::Makemaker”, and new one is using “Module::Build”. We will use the Module::Starter module to help us create a module.  </p>

<p>By default, Module::Starter create a distribution with Makefile.PL</p>

<p>First with Makefile.PL  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">module</span><span class="o">-</span><span class="n">starter</span> <span class="o">--</span><span class="n">module</span><span class="o">=</span><span class="s">&quot;Animal&quot;</span> <span class="o">--</span><span class="n">author</span><span class="o">=</span><span class="s">&quot;Steven Sun&quot;</span> <span class="o">--</span><span class="n">email</span><span class="o">=</span><span class="n">steven</span><span class="o">.</span><span class="n">sun2013</span><span class="nv">@gmail</span><span class="o">.</span><span class="n">com</span> <span class="o">--</span><span class="n">verbose</span>
</span><span class="line">
</span><span class="line"><span class="n">This</span> <span class="n">is</span> <span class="n">the</span> <span class="n">same</span> <span class="n">as:</span>
</span><span class="line"><span class="n">module</span><span class="o">-</span><span class="n">starter</span> <span class="o">--</span><span class="n">builder</span><span class="o">=</span><span class="s">&quot;ExtUtils::Makemaker&quot;</span> <span class="o">--</span><span class="n">module</span><span class="o">=</span><span class="s">&quot;Animal&quot;</span> <span class="o">--</span><span class="n">author</span><span class="o">=</span><span class="s">&quot;Steven Sun&quot;</span> <span class="o">--</span><span class="n">email</span><span class="o">=</span><span class="n">steven</span><span class="o">.</span><span class="n">sun2013</span><span class="nv">@gmail</span><span class="o">.</span><span class="n">com</span> <span class="o">--</span><span class="n">verbose</span>
</span><span class="line">
</span><span class="line"><span class="n">perl</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">PL</span>
</span><span class="line"><span class="n">make</span>
</span><span class="line"><span class="n">make</span> <span class="n">test</span>
</span><span class="line"><span class="n">make</span> <span class="n">disttest</span>
</span><span class="line"><span class="n">make</span> <span class="n">dist</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Next we will show you the “Build.PL”</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">module</span><span class="o">-</span><span class="n">starter</span> <span class="o">--</span><span class="n">builder</span><span class="o">=</span><span class="s">&quot;Module::Build&quot;</span> <span class="o">--</span><span class="n">module</span><span class="o">=</span><span class="s">&quot;Animal&quot;</span> <span class="o">--</span><span class="n">author</span><span class="o">=</span><span class="s">&quot;Steven Sun&quot;</span> <span class="o">--</span><span class="n">email</span><span class="o">=</span><span class="n">steven</span><span class="o">.</span><span class="n">sun2013</span><span class="nv">@gmail</span><span class="o">.</span><span class="n">com</span> <span class="o">--</span><span class="n">verbose</span>
</span><span class="line">
</span><span class="line"><span class="ow">or</span> <span class="n">in</span> <span class="n">a</span> <span class="n">simpler</span> <span class="n">way</span><span class="p">,</span> <span class="n">we</span> <span class="n">can</span> <span class="k">do</span> <span class="n">this:</span>
</span><span class="line"><span class="n">module</span><span class="o">-</span><span class="n">starter</span> <span class="o">--</span><span class="n">mb</span> <span class="o">--</span><span class="n">module</span><span class="o">=</span><span class="s">&quot;Animal&quot;</span> <span class="o">--</span><span class="n">author</span><span class="o">=</span><span class="s">&quot;Steven Sun&quot;</span> <span class="o">--</span><span class="n">email</span><span class="o">=</span><span class="n">steven</span><span class="o">.</span><span class="n">sun2013</span><span class="nv">@gmail</span><span class="o">.</span><span class="n">com</span> <span class="o">--</span><span class="n">verbose</span>
</span><span class="line">
</span><span class="line"><span class="n">perl</span> <span class="n">Build</span><span class="o">.</span><span class="n">PL</span>
</span><span class="line"><span class="o">./</span><span class="n">Build</span>
</span><span class="line"><span class="o">./</span><span class="n">Build</span> <span class="n">test</span>
</span><span class="line"><span class="o">./</span><span class="n">Build</span> <span class="n">disttest</span>       <span class="c1">##this will create a .tar.gz archive which we can distribute now.  </span>
</span><span class="line"><span class="o">./</span><span class="n">Build</span> <span class="n">dist</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For the Module::Build way, there is a shortcut.   </p>

<p>We don’t want to type that long command line every time, so module-starter can get that information from a    <br />
configuration file $HOME/.module-starter/config. If we’re on Windows, that .module-starter name is a bit of a    <br />
problem, so we can set the MODULE_STARTER_DIR environment variable to the name of the directory that contains
config. Inside config, we can list the parameter names and values separated by a colon.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">author:</span> <span class="n">Steven</span> <span class="n">Sun</span>
</span><span class="line"><span class="n">email:</span> <span class="n">steven</span><span class="o">.</span><span class="n">sun2013</span><span class="nv">@gmail</span><span class="o">.</span><span class="n">com</span>
</span><span class="line"><span class="n">builder:</span> <span class="nn">Module::</span><span class="n">Build</span>
</span><span class="line"><span class="n">verbose:</span> <span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Once we have our configuration file setup, life is much easier since we only need to specify the name of the distribution that we want to create. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="nv">%</span> <span class="nv">module</span><span class="err">−</span><span class="n">starter</span> <span class="err">−−</span><span class="n">module</span><span class="o">=</span><span class="n">Animal</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/notes-on-the-use-of-module-in-node-dot-js/">Notes on the Use of Module in node.js</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T17:11:27+08:00" pubdate data-updated="true">Aug 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
  <li>
    <p>require 不会重复加载模块，也就是说无论调用多少次 require，获得的模块都是同一个。  </p>
  </li>
  <li>
    <p>Node.js 提供了 exports 和 require 两个对象，其中 exports 是模块公开的接口，require 用于从外部获取一个模块的接口，即所获
取模块的 exports 对象。   </p>
  </li>
  <li>
    <p>exports 本身仅仅是一个普通的空对象，即 {}，它专门用来声明接口，本质上是通过它为模块闭包的内部建立了一个有限的访问接口.   </p>
  </li>
  <li>
    <p>Node.js 在调用某个包时，会首先检查包中 package.json 文件的 main 字段，将其作为包的接口模块，如果 package.json 或 main 字段不存在，会尝试寻找 index.js 或 index.node 作为包的接口。</p>
  </li>
  <li>
    <p>following the following steps to create and publish a module. </p>
  </li>
</ol>

<ul>
  <li>mkdir stsunmodule  </li>
  <li>cd stsunmodule  </li>
  <li>npm init  (then answer all the questions as been prompted)    </li>
  <li>touch index.js   </li>
  <li>npm adduser  </li>
  <li>npm whoami  (use this command to test if your account is created successfully)   </li>
  <li>npm publish   </li>
</ul>

<p>then you can go to the site “https://search.npmjs.org” to check if your module is published successfully.<br />
You can also use “npm unpublish” to unpublish your module.  </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/callback-function-in-node-dot-js/">Callback Function in node.js</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T16:03:41+08:00" pubdate data-updated="true">Aug 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Asynchronous IO in Node.js is very hard to understand. Here is one example from the book “Node.js开发指南”.  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="kd">function</span> <span class="nx">readFileCallBack</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span class="line"><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="nx">readFileCallBack</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;end.&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>When fs.readFile is called, it just sents the asynchronous I/O to the operating system, then it comes back and executes the statements following it. After that, it enters into the event loop to listen on the event. When fs accepts the event finished by the I/O request, the event loop will call the callback function to finish the following work.  </p>

<p>Thus in this case, we will see the “end.” first and then the contents of the file.txt.   </p>

<p>To understand how it works, it may help for us to get a basic knowledge of what is event. </p>

<p>Take the following code as an example.    </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="js"><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">EventEmitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;events&#39;</span><span class="p">).</span><span class="nx">EventEmitter</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="nx">event</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;some_event&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;some_event occured.&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">event</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;some_event&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We will see that “some_event occurred” appeares on the console. It is because event object registes a listener on the event some_event, we sent to “event” object the event some_event after a second(1000 ms) through setTimeout, it then will call the listener on some_event and the function is executed.   </p>

<p>Node.js 程序由事件循环开始，到事件循环结束，所有的逻辑都是事件的回调函数，所以 Node.js 始终在事件循环中，程序入口就是事件循环第一个事件的回调函数。事件的回调函数在执行的过程中，可能会发出 I/O 请求或直接发射（emit）事件，执行完毕后再返回事件循环，事件循环会检查事件队列中有没有未处理的事件，直到程序结束。</p>

<p>与其他语言不同的是，Node.js 没有显式的事件循环，类似 Ruby 的 EventMachine::run()的函数在 Node.js 中是不存在的。Node.js 的事件循环对开发者不可见，由 libev 库实现。libev支持多种类型的事件，如 ev_io、ev_timer、ev_signal、ev_idle 等，在 Node.js 中均被EventEmitter 封装。libev 事件循环的每一次迭代，在 Node.js 中就是一次 Tick，libev 不断检查是否有活动的、可供检测的事件监听器，直到检测不到时才退出事件循环，进程结束。</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/syntax-hightlighting-in-markdown/">Syntax Hightlighting in Markdown</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T15:56:29+08:00" pubdate data-updated="true">Aug 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When we want to insert a code block in markdown, we have to know the language type supported by markdown. Here is a full list of many of the languages used often. I list them here for quick reference later.  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Cucumber ('*.feature')
</span><span class="line">abap ('*.abap')
</span><span class="line">ada ('*.adb', '*.ads', '*.ada')
</span><span class="line">ahk ('*.ahk', '*.ahkl')
</span><span class="line">apacheconf ('.htaccess', 'apache.conf', 'apache2.conf')
</span><span class="line">applescript ('*.applescript')
</span><span class="line">as ('*.as')
</span><span class="line">as3 ('*.as')
</span><span class="line">asy ('*.asy')
</span><span class="line">bash ('*.sh', '*.ksh', '*.bash', '*.ebuild', '*.eclass')
</span><span class="line">bat ('*.bat', '*.cmd')
</span><span class="line">befunge ('*.befunge')
</span><span class="line">blitzmax ('*.bmx')
</span><span class="line">boo ('*.boo')
</span><span class="line">brainfuck ('*.bf', '*.b')
</span><span class="line">c ('*.c', '*.h')
</span><span class="line">cfm ('*.cfm', '*.cfml', '*.cfc')
</span><span class="line">cheetah ('*.tmpl', '*.spt')
</span><span class="line">cl ('*.cl', '*.lisp', '*.el')
</span><span class="line">clojure ('*.clj', '*.cljs')
</span><span class="line">cmake ('*.cmake', 'CMakeLists.txt')
</span><span class="line">coffeescript ('*.coffee')
</span><span class="line">console ('*.sh-session')
</span><span class="line">control ('control')
</span><span class="line">cpp ('*.cpp', '*.hpp', '*.c++', '*.h++', '*.cc', '*.hh', '*.cxx', '*.hxx', '*.pde')
</span><span class="line">csharp ('*.cs')
</span><span class="line">css ('*.css')
</span><span class="line">cython ('*.pyx', '*.pxd', '*.pxi')
</span><span class="line">d ('*.d', '*.di')
</span><span class="line">delphi ('*.pas')
</span><span class="line">diff ('*.diff', '*.patch')
</span><span class="line">dpatch ('*.dpatch', '*.darcspatch')
</span><span class="line">duel ('*.duel', '*.jbst')
</span><span class="line">dylan ('*.dylan', '*.dyl')
</span><span class="line">erb ('*.erb')
</span><span class="line">erl ('*.erl-sh')
</span><span class="line">erlang ('*.erl', '*.hrl')
</span><span class="line">evoque ('*.evoque')
</span><span class="line">factor ('*.factor')
</span><span class="line">felix ('*.flx', '*.flxh')
</span><span class="line">fortran ('*.f', '*.f90')
</span><span class="line">gas ('*.s', '*.S')
</span><span class="line">genshi ('*.kid')
</span><span class="line">glsl ('*.vert', '*.frag', '*.geo')
</span><span class="line">gnuplot ('*.plot', '*.plt')
</span><span class="line">go ('*.go')
</span><span class="line">groff ('*.(1234567)', '*.man')
</span><span class="line">haml ('*.haml')
</span><span class="line">haskell ('*.hs')
</span><span class="line">html ('*.html', '*.htm', '*.xhtml', '*.xslt')
</span><span class="line">hx ('*.hx')
</span><span class="line">hybris ('*.hy', '*.hyb')
</span><span class="line">ini ('*.ini', '*.cfg')
</span><span class="line">io ('*.io')
</span><span class="line">ioke ('*.ik')
</span><span class="line">irc ('*.weechatlog')
</span><span class="line">jade ('*.jade')
</span><span class="line">java ('*.java')
</span><span class="line">js ('*.js')
</span><span class="line">jsp ('*.jsp')
</span><span class="line">lhs ('*.lhs')
</span><span class="line">llvm ('*.ll')
</span><span class="line">logtalk ('*.lgt')
</span><span class="line">lua ('*.lua', '*.wlua')
</span><span class="line">make ('*.mak', 'Makefile', 'makefile', 'Makefile.*', 'GNUmakefile')
</span><span class="line">mako ('*.mao')
</span><span class="line">maql ('*.maql')
</span><span class="line">mason ('*.mhtml', '*.mc', '*.mi', 'autohandler', 'dhandler')
</span><span class="line">markdown ('*.md')
</span><span class="line">modelica ('*.mo')
</span><span class="line">modula2 ('*.def', '*.mod')
</span><span class="line">moocode ('*.moo')
</span><span class="line">mupad ('*.mu')
</span><span class="line">mxml ('*.mxml')
</span><span class="line">myghty ('*.myt', 'autodelegate')
</span><span class="line">nasm ('*.asm', '*.ASM')
</span><span class="line">newspeak ('*.ns2')
</span><span class="line">objdump ('*.objdump')
</span><span class="line">objectivec ('*.m')
</span><span class="line">objectivej ('*.j')
</span><span class="line">ocaml ('*.ml', '*.mli', '*.mll', '*.mly')
</span><span class="line">ooc ('*.ooc')
</span><span class="line">perl ('*.pl', '*.pm')
</span><span class="line">php ('*.php', '*.php(345)')
</span><span class="line">postscript ('*.ps', '*.eps')
</span><span class="line">pot ('*.pot', '*.po')
</span><span class="line">pov ('*.pov', '*.inc')
</span><span class="line">prolog ('*.prolog', '*.pro', '*.pl')
</span><span class="line">properties ('*.properties')
</span><span class="line">protobuf ('*.proto')
</span><span class="line">py3tb ('*.py3tb')
</span><span class="line">pytb ('*.pytb')
</span><span class="line">python ('*.py', '*.pyw', '*.sc', 'SConstruct', 'SConscript', '*.tac')
</span><span class="line">rb ('*.rb', '*.rbw', 'Rakefile', '*.rake', '*.gemspec', '*.rbx', '*.duby')
</span><span class="line">rconsole ('*.Rout')
</span><span class="line">rebol ('*.r', '*.r3')
</span><span class="line">redcode ('*.cw')
</span><span class="line">rhtml ('*.rhtml')
</span><span class="line">rst ('*.rst', '*.rest')
</span><span class="line">sass ('*.sass')
</span><span class="line">scala ('*.scala')
</span><span class="line">scaml ('*.scaml')
</span><span class="line">scheme ('*.scm')
</span><span class="line">scss ('*.scss')
</span><span class="line">smalltalk ('*.st')
</span><span class="line">smarty ('*.tpl')
</span><span class="line">sourceslist ('sources.list')
</span><span class="line">splus ('*.S', '*.R')
</span><span class="line">sql ('*.sql')
</span><span class="line">sqlite3 ('*.sqlite3-console')
</span><span class="line">squidconf ('squid.conf')
</span><span class="line">ssp ('*.ssp')
</span><span class="line">tcl ('*.tcl')
</span><span class="line">tcsh ('*.tcsh', '*.csh')
</span><span class="line">tex ('*.tex', '*.aux', '*.toc')
</span><span class="line">text ('*.txt')
</span><span class="line">v ('*.v', '*.sv')
</span><span class="line">vala ('*.vala', '*.vapi')
</span><span class="line">vbnet ('*.vb', '*.bas')
</span><span class="line">velocity ('*.vm', '*.fhtml')
</span><span class="line">vim ('*.vim', '.vimrc')
</span><span class="line">xml ('*.xml', '*.xsl', '*.rss', '*.xslt', '*.xsd', '*.wsdl')
</span><span class="line">xquery ('*.xqy', '*.xquery')
</span><span class="line">xslt ('*.xsl', '*.xslt')
</span><span class="line">yaml ('*.yaml', '*.yml')</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/node-express-upgrade-with-modules-deprecated/">Node Express Upgrade With Modules Deprecated</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-08T15:17:47+08:00" pubdate data-updated="true">Aug 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The “express” web application framework for node updates termly. Thus some of the apis may not be usable after a while. Here below are some of the apis deprecated between version2.5.2 and version4.8.2.   </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="err">`</span><span class="nx">express</span><span class="p">.</span><span class="nx">createServer</span><span class="p">()</span><span class="err">`</span> <span class="o">-</span> <span class="nx">it</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">deprecated</span> <span class="k">for</span> <span class="nx">a</span> <span class="kr">long</span> <span class="nx">time</span><span class="p">.</span> <span class="nx">Use</span> <span class="err">`</span><span class="nx">express</span><span class="p">()</span><span class="err">`</span>
</span><span class="line">
</span><span class="line"><span class="nx">deprecate</span> <span class="err">`</span><span class="nx">connect</span><span class="p">.</span><span class="nx">createServer</span><span class="p">()</span><span class="err">`</span> <span class="o">--</span> <span class="nx">use</span> <span class="err">`</span><span class="nx">connect</span><span class="p">()</span><span class="err">`</span> <span class="nx">instead</span>
</span><span class="line">
</span><span class="line"><span class="nx">deprecate</span> <span class="err">`</span><span class="p">.</span><span class="nx">createServer</span><span class="p">()</span><span class="err">`</span> <span class="o">&amp;</span> <span class="nx">remove</span> <span class="nx">old</span> <span class="nx">stale</span> <span class="nx">examples</span>
</span><span class="line">
</span><span class="line"><span class="nx">Added</span> <span class="err">`</span><span class="nx">express</span><span class="p">.</span><span class="nx">createServer</span><span class="p">()</span><span class="err">`</span> <span class="k">for</span> <span class="nx">BC</span>
</span><span class="line">
</span><span class="line"><span class="nx">Fixed</span> <span class="k">for</span> <span class="nx">middleware</span> <span class="nx">stacked</span> <span class="nx">via</span> <span class="err">`</span><span class="nx">createServer</span><span class="p">()</span><span class="err">`</span>
</span><span class="line">
</span><span class="line"><span class="nx">previously</span> <span class="nx">the</span> <span class="err">`</span><span class="nx">foo</span><span class="err">`</span> <span class="nx">middleware</span> <span class="nx">passed</span> <span class="nx">to</span> <span class="err">`</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span><span class="err">`</span>
</span><span class="line">
</span><span class="line"><span class="nx">express</span><span class="p">.</span><span class="nx">bodyParser</span><span class="p">()</span> <span class="nx">will</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">installed</span> <span class="nx">separately</span><span class="p">.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Steven Sun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
