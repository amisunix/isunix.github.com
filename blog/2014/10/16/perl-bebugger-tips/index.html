
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Perl Bebugger Tips - Steven's Blog</title>
  <meta name="author" content="Steven Sun">

  
  <meta name="description" content="Knowing how to debug a perl program is really important. I am saying this not simply because it is supposed to be so, but also because I have &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://isunix.github.io/blog/2014/10/16/perl-bebugger-tips">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Steven's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>



  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav id="main-nav" role="navigation">
<ul class="main-navigation">
  <li><a href="/" class="nav-link">Blog</a></li>
  <li><a href="/blog/archives" class="nav-link">Archives</a></li>
  <li><a href="/atom.xml" class="nav-link">RSS</a></li>
  <li><a href="/about" class="nav-link">About</a></li>
</ul>

</nav>
  
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Perl Bebugger Tips</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-16T15:31:54+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Knowing how to debug a perl program is really important. I am saying this not simply because it is supposed to be so, but also because I have encountered several occasions where I am stucked because I do not know how to debug and I have to ask for help from others. </p>

<p>I am writing this post currently based on two perl pods, one is “perldebug”, the other is “perldebtut”. There is book named “perl debugged” which focuses on how to debug a perl program. Also google it to find post and materials as to how to debug a perl program. I am preparing to stuff all tips and knowledges regrading to perl debugging in this post.  </p>

<p>1.if we want to do a syntax check, we can use the following way:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">perl</span> <span class="o">-</span><span class="n">c</span> <span class="n">hello</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>2.The line shown is the one that is about to be executed next, it hasn’t happened yet. So while we can print a variable with the letter ‘p’, at this point all we’d get is an empty (undefined) value back. What we need to do is to step through the next executable statement with an ‘s’. Then you can see the previous shown variable using the “p varname” format.  </p>

<p>3.type something like “x keys %data” will print out the data in a pretty format. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">Evals</span> <span class="n">expr</span> <span class="n">in</span> <span class="n">list</span> <span class="n">context</span><span class="p">,</span> <span class="n">dumps</span> <span class="n">the</span> <span class="n">result</span> <span class="ow">or</span> <span class="n">lists</span> <span class="n">methods</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>4.using the “x” operator on a hash is not quite useful here. since a couple of welcomes in there, but no indication of which are keys, and which are values, it’s just a listed array dump and, in this case, not particularly helpful. The trick here, is to use a reference to the data structure:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">x</span> <span class="o">\</span><span class="nv">%data</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>5.Know the differences between “qw” and “q”: qw// is simply q// followed by a split on whitespace. No way to conserve blanks. Thus if the quoted words have blank spaces, and you want to treat them as a whole, use q rather than qw.  </p>

<p>5.perl -w script-name will execute the script and give out the warning messages.  </p>

<p>6.Take a closer look at the ‘x’ command, it’s really useful and will merrily dump out nested references, complete objects, partial objects - just about whatever you throw at it.   </p>

<p>7.If we want to start the debugger and want some form of input from STDIN, we give it something non-committal, a zero: </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">perl</span> <span class="o">-</span><span class="n">de</span> <span class="mi">0</span>	
</span><span class="line"><span class="ow">or</span>
</span><span class="line"><span class="n">perl</span> <span class="o">-</span><span class="n">de0</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>8.typing “perl -de 0” into the terminal, build an on-the-fly object over a couple of lines (note the backslash):  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;1&gt;</span> <span class="nv">$obj</span> <span class="o">=</span> <span class="nb">bless</span><span class="p">({</span><span class="s">&#39;unique_id&#39;</span><span class="o">=&gt;</span><span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;attr&#39;</span><span class="o">=&gt;</span> <span class="o">\</span>
</span><span class="line"><span class="n">cont:</span> 	<span class="p">{</span><span class="s">&#39;col&#39;</span> <span class="o">=&gt;</span> <span class="s">&#39;black&#39;</span><span class="p">,</span> <span class="s">&#39;things&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="sx">qw(this that etc)</span><span class="p">]}},</span> <span class="s">&#39;MY_class&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>9.use the “x” command to see the internals of the obj. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;2&gt;</span> <span class="n">x</span> <span class="nv">$obj</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>10.To give more examples on using the “perl -de 0” command, I will just copy the code from the “perldebtut” pod page.  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;3&gt;</span> <span class="nv">@data</span> <span class="o">=</span> <span class="sx">qw(this that the other atheism leather theory scythe)</span>
</span><span class="line"><span class="n">DB</span><span class="sr">&lt;4&gt;</span> <span class="n">p</span> <span class="s">&#39;saw -&gt; &#39;</span><span class="o">.</span><span class="p">(</span><span class="nv">$cnt</span> <span class="o">+=</span> <span class="nb">map</span> <span class="p">{</span> <span class="k">print</span> <span class="s">&quot;\t:\t$_\n&quot;</span> <span class="p">}</span> <span class="nb">grep</span><span class="p">(</span><span class="sr">/the/</span><span class="p">,</span> <span class="nb">sort</span> <span class="nv">@data</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>11.If you want to see the command History, type an ‘H’:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;5&gt;</span> <span class="n">H</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>12.And if you want to repeat any previous command, use the exclamation: ‘!’:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;5&gt;</span> <span class="o">!</span><span class="mi">4</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>13.If we want to put a breakpoint on a line, we can use this:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">b</span> <span class="n">linenum</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>14.We can see what breakpoints are set by using the list ‘L’ command:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;3&gt;</span> <span class="n">L</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>15.To delete a break point on a line, we use the “B” command. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">DB</span><span class="sr">&lt;3&gt;</span> <span class="n">B</span> <span class="mi">16</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>16.At the end of the tutorial, its recommended to refer to the following tutorials:  </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="perl"><span class="line"><span class="n">perldebug</span><span class="p">,</span> <span class="n">perldebguts</span><span class="p">,</span> <span class="n">perldiag</span><span class="p">,</span> <span class="n">perlrun</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>17.Option s and n does step by step execution of each statements. Option s steps into the subroutine. Option n executes the subroutine in a single step (stepping over it).</p>

<p>The s option does stepping into the subroutine while n option which would execute the subroutine(stepping over it).</p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Steven Sun</span></span>

      








  


<time datetime="2014-10-16T15:31:54+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/perl/'>Perl</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/10/14/pi-pei-zui-chang-lian-xu-shu-zi-chuan/" title="Previous Post: 匹配最长连续数字串">&laquo; 匹配最长连续数字串</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/10/17/a-perl-script-to-rename-file-names/" title="Next Post: a perl script to rename file names">a perl script to rename file names &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Steven Sun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
